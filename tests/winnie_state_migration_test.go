package tests

import (
	"testing"
)

const (
	contractDeployCode = "0x608060405234801561001057600080fd5b506000808190555060646001819055506101848061002f6000396000f300608060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806302e5329e14610067578063197e70e41461009457806349b667d2146100c157806367e0badb146100ec575b600080fd5b34801561007357600080fd5b5061009260048036038101908080359060200190929190505050610117565b005b3480156100a057600080fd5b506100bf60048036038101908080359060200190929190505050610121565b005b3480156100cd57600080fd5b506100d6610145565b6040518082815260200191505060405180910390f35b3480156100f857600080fd5b5061010161014f565b6040518082815260200191505060405180910390f35b8060018190555050565b806000540160008190555060015460005481151561013b57fe5b0660008190555050565b6000600154905090565b600080549050905600a165627a7a72305820ef4e7e564c744de3a36cb74000c35687f7de9ecf1d29abdd3c4bcc66db981c160029"
)

func TestMigration_SmartContract(t *testing.T) {
	//fullNode, node, validator, chainId, workspace, richAccount, accounts, contractAccounts := newSimpleBlockchain(t, 100)

	// call contract before migration

	// call contract while migration

	// contract deployed after migration
}

// migration should not start if staking info is not stored to DB
func TestMigration_StakingInfoFail(t *testing.T) {
	//fullNode, node, validator, chainId, workspace, richAccount, accounts, contractAccounts := newSimpleBlockchain(t, 100)

	// TODO-WINNIE Think
	// abnormal db manager 생성
	// erase staking info? -> fail이 아니자나
}
